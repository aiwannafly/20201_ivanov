https://www.cs.swarthmore.edu/~aviv/classes/f12/cs43/labs/lab5/lab5.pdf
https://translatedby.com/you/bittorrent-protocol-specification-v1-0-in-detail/into-ru/

1. Добавить keep-alive сообщения и их обработку. 2 minutes
2. Продумать что делать в ситуации, когда какой-то из сидов отваливается
3. Реализовать все команды из задания, динамически определять,
   кто чем владеет

Так. Вообще говоря, загрузка должна полностью идти в отдельном треде.
А в другом треде общение с пользователем.
Да.
Короче. Вариант следующий. Мы прям берем и завершаем поток загрузки.
Но сохраняем инфу о кусках, которые скачали прямо в торрент-клменте.

seed будет принимать keep-alive сообщения в селекте.
Каждый раз, когда он его получает, он замеряет время.
В то же время работает таймер, который периодически
делает рассылку этих keep-alive сообщений и проверяет
время последних пришедших, если нужно, закрывает соединения.

Примерно похожее надо сделать в личах.

В чем проблема? При разрвыве соединения мы получаем 0 байты.
По сути, то же keep-alive сообщение.
Мне прямо очень не нравится такая сигнатура.

Тогда как мне различать keep-alive сообщения?
Ну смотрите.
Можно так.
Если приходит два keep-alive сообщения подрят ==> надо разрывать соединение
Я могу просто сохранять инфу о последнем типе сообщения
Ок, давайте сейчас сделаем именно так.

